<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
<!-- 
	This file is generated by VisualGDB.
	It contains GCC settings automatically derived from the board support package (BSP).
	DO NOT EDIT MANUALLY. THE FILE WILL BE OVERWRITTEN. 
	Use VisualGDB Project Properties dialog or modify Makefile or per-configuration .mak files instead.
-->

<!-- VisualGDB provides BSP_ROOT and TOOLCHAIN_ROOT via environment when running Make. The line below will only be active if GNU Make is started manually. -->
	<PropertyGroup>
		<BSP_ROOT Condition="'$(BSP_ROOT)' == ''">BSP</BSP_ROOT>
		<EFP_BASE Condition="'$(EFP_BASE)' == ''">$(LOCALAPPDATA)/VisualGDB/EmbeddedEFPs</EFP_BASE>
		<TESTFW_BASE Condition="'$(TESTFW_BASE)' == ''">$(LOCALAPPDATA)/VisualGDB/TestFrameworks</TESTFW_BASE>
		<TOOLCHAIN_ROOT Condition="'$(TOOLCHAIN_ROOT)' == ''">c:/SysGCC/arm-eabi</TOOLCHAIN_ROOT>
	</PropertyGroup>
	<ItemDefinitionGroup>
		<ClCompile>
			<PreprocessorDefinitions>ARM_MATH_CM4;STM32F407VG;flash_layout;STM32F40_41xxx;STM32F4XX;USE_STDPERIPH_DRIVER;__FPU_PRESENT;USE_FREERTOS;FAST_SEMIHOSTING_BUFFER_SIZE=128;FAST_SEMIHOSTING_BLOCKING_MODE=1;FAST_SEMIHOSTING_STDIO_DRIVER=1;FAST_SEMIHOSTING_PROFILER_DRIVER=1;PROFILER_STM32F4;;%(ClCompile.PreprocessorDefinitions)</PreprocessorDefinitions>
			<AdditionalIncludeDirectories>$(ProjectDir);BSP/STM32F4xxxx/STM32F4xx_StdPeriph_Driver/inc;BSP/STM32F4xxxx/CMSIS_StdPeriph/Device/ST/STM32F4xx/Include;BSP/STM32F4xxxx/CMSIS_StdPeriph/Include;BSP/STM32F4xxxx/CMSIS_StdPeriph/RTOS/Template;CPAL/include;FreeRTOS/include;UDA1380;$(EFP_BASE)/Profiler;%(ClCompile.AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
			<ForcedIncludeFiles>$(EFP_BASE)/Profiler/ProfilerFreeRTOSHooks.h;%(ClCompile.ForcedIncludeFiles)</ForcedIncludeFiles>
		</ClCompile>
	</ItemDefinitionGroup>
	<ItemDefinitionGroup>
		<Link>
			<LinkerScript Condition="'%(Link.LinkerScript)' == ''">STM32F407VG_flash.lds</LinkerScript>
			<AdditionalOptions>--specs=nano.specs --specs=nosys.specs %(Link.AdditionalOptions)</AdditionalOptions>
		</Link>
	</ItemDefinitionGroup>
	<PropertyGroup>
		<DefaultLinkerScript>STM32F407VG_flash.lds</DefaultLinkerScript>
	</PropertyGroup>

	<ItemDefinitionGroup>
		<ToolchainSettingsContainer>
			<ARMCPU>cortex-m4</ARMCPU>
			<InstructionSet>THUMB</InstructionSet>
			<FloatABI>hard</FloatABI>
		</ToolchainSettingsContainer>
	</ItemDefinitionGroup>
	<Target Name="ApplyASFLAGS">
		<ItemGroup>
			<ClCompile Condition="'%(ClCompile.InputLanguage)' == 'Assembler' or '%(ClCompile.InputLanguage)' == 'PreprocessedAssembler' or ('%(ClCompile.InputLanguage)' == '' and '%(ClCompile.Extension)' == '.s')">
				<AdditionalOptions>-mfpu=fpv4-sp-d16 %(ClCompile.AdditionalOptions)</AdditionalOptions>
			</ClCompile>
		</ItemGroup>
	</Target>
	<PropertyGroup>
		<ClCompileDependsOn>$(ClCompileDependsOn);ApplyASFLAGS</ClCompileDependsOn>
	</PropertyGroup>
</Project>
